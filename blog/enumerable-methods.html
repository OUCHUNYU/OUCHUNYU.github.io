<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <link rel="stylesheet" type="text/css" href="../stylesheets/blog_template.css">
  <link rel="stylesheet" href="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.5.0/css/font-awesome.min.css">

  <title>Blog|Chunyu Ou</title>
  <style type="text/css">
    em {
      color: red;
      font-size: 1.5em;
      font-family: courier;
    }

    #bottom-nav a:hover {
      text-decoration: none;
    }

  </style>
</head>
<body>
 <div id="wrapper">
   <header>
    <div id="header-title">
      <a href="../index.html">Chunyu Ou</a>
    </div>
    <nav id="main-nav">
      <a href="../index.html">Home</a>
      <a href="../project.html">Project</a>
      <a href="../about.html">About</a>
    </nav>

    <div id="container">
      <ul>
        <li><a href="https://github.com/OUCHUNYU" target="_blank"><i class="fa fa-github fa-3x"></i></a></li>
        <li><a href="https://twitter.com/OUCHUNYU" target="_blank"><i class="fa fa-twitter fa-3x"></i>
        </a></li>
        <li><a href="https://www.facebook.com/chunyu.ou.52" target="_blank"><i class="fa fa-facebook-official fa-3x"></i></a></li>
      </ul>
    </div>
   </header>

   <main id="main-article">
     <section>
        <hr>
        <h2>Ruby Enumerable</h2>
        <p>Ruby is a very interesting language as its flexibility and dynamic features which make this language super fun to play around with. There is a very cool feature i would like to talk and use over and over again called Module. The benefit of it i can’t simply count, because there is so much. A module is like a bundle of classes or methods or classes and methods. You simply call the class method include within your class body, then all of your class instances get to share all the instance methods shipped in module. I always like to supply my class a powerful package that is redefined in Ruby library called Enumerable. If you apply method ancestors on, let say Array. It should return you something like this</p>

        <pre>
          <code>
          Array.ancestors
          [Array, Enumerable, Object, Kernel, BasicObject]
          </code>
        </pre>

        <p>As you can see from right to left( This is how Ruby interpreter reads your code ). Enumerable is in front of Array class. That’s it. Because class Array gets most of its iterator methods from this package Enumerable. If you try</p>

        <pre><code>Array.instance_methods(false).sort</code></pre>

        <p>It should return what instance methods Array class truly has, the inherited methods are filtered by the false argument we past to the method call.</p>
        <p>Mant of iterator we commonly use are gone.
So it is awesome to call include method and include all theses methods for our own class.
But, how do we do it?</p>
        <p>The thing about this Enumerable package is that we need to have a method defined inside our class, and it has to be exactly called each. Then we can actually use all these useful iterator methods from Enumerable. What should i define in this each method then? The answer is, it doesn’t really matter, i has to depend on what your situation is, and what kind of result you want. The reason for defining this each method is because many methods in Enumerable package is build on top of each method, without having one you can not use them.
Now lets define our own package and include it into our good friend Array class, so you can see why it is cool. We call this package MyEnumerable.</p>
        <pre><code>
          module MyEnumerable

            def my_cycle(int = nil)
              count = 0
              loop {
                (break nil) if count == int
                self.each {|x| yield x}
                count += 1
               }
            end
          end
        </code></pre>
        <p>For this blog post, i will use my_cycle method as an example, it basicly works like cycle method in Array class.</p>
        <p>First, we need to know what this method does, if you don’t know, this method takes an integer argument and loops the block we supply to this method, as many times as the integer we supply it. If argument integer we set to 2, this method will invoke each method with the block we give to it for 2 times. Note if we do not supply the argument, it will loop forever. So here, I first set a counter, and use loop method to let it run forever, but with in this block we pass to loop, we set a condition, if the count is equal to the argument we supply it, i will break, and then yield the block, by the end it will add 1 to the counter to indicated how many times we have looped thru it. Note the parameter we set to nil then if we don’t supply the argument the condition is not meeting so it will run forever. </p>
        <p>Wait, we did not change the behavior. Oops, let’s do a very little change, then you will see.</p>

        <pre><code>
        moduel MyEnumerable

          def my_cycle(int = nil)
            count = 0
            loop {
              (break "Enumerable is awesome!") if count == int
              self.each {|x| yield x}
              count += 1
            }
          end
        end

        class Array
          incldue MyEnumerable
          undef cycle
        end
        </code></pre>

        <p>now we call it by puting this lines of code in our file. </p>
  <pre><code>p [2, 4, 7, 8].my_cycle(2) {|x| puts x }</code></pre>

<p>
Lets run it!
</p>

<pre><code>
      Desktop [master] :> ruby map.rb
      2
      4
      7
      8
      2
      4
      7
      8
      "Enumerable is awesome!"
</code></pre>
<p>It works!</p>

      </section>


   </main>


  <div id="bottom-nav">
    <ul>
      <li><button type="button" class="btn btn-default"><a href="diversity-in-tech.html">Last Post</a></button></li>
      <li><button id="right" type="button" class="btn btn-default"><a href="ruby-classes.html">Next Post</a></button></li>
    </ul>
  </div>
 </div>
   <footer>
    <p>Contact me: <a href="mailto:ouchunyu@yahoo.com">ouchunyu@yahoo.com</a> </p>
   </footer>
</body>
</html>